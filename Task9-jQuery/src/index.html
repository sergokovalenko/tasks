<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Task09. jQuery</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous">
</head>

<body>
  <script id="tableRowTemplate" type="text/html">
    <tr>
        <td>
          <span class="name"><%-product.name%></span>
          <span class="count badge badge-pill badge-dark float-right mr-1"><%-product.count%></span>
        </td>
        <td class="text-center">
          <span class="price"><%-window.priceConvertor.convertNumberToPrice(product.price)%></span>
        </td>
        <td class="text-center">
          <button class="btn btn-light mt-1 edit" data-id="<%-product.id%>" data-action="edit">Edit</button>
          <button class="btn btn-danger mt-1 delete" data-id="<%-product.id%>" data-action="delete">Delete</button>
        </td>
      </tr>
  </script>
  <script id="tableRowRedrawTemplate" type="text/html">
    <% _.each(productList, function(product) { %>
      <%= productRowTemplateFunc({ product: product }) %>
    <% }); %>
  </script>
  <script id="modalDeleteTemplate" type="text/html">
    <div id="modalWindow" class="modal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header" style="border-bottom: 1px solid rgb(229, 229, 229);">
            <h3 class="m-auto">Are you sure?</h3>
          </div>
          <div class="modal-body">
           <p class="text-center">Are you sure you want to perform this action?</p>
           <div class="text-center">
              <button class="btn btn-danger" id="delete" data-id="<%-id%>">Yes</button>
              <button class="btn btn-light" id="close">No</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </script>
  <script id="addTemplate" type="text/html">
    <button class="btn btn-light float-right" id="addNew">Add new</button>
  </script>
  <script id="modalChangeTemplate" type="text/html">
    <div id="modalWindow" class="modal">
      <div class="modal-dialog">
        <div class="modal-content" style="width: 600px">
          <div class="modal-header" style="border-bottom: medium none;"><button type="button" class="close" id="close"><span>&times;</span></button></div>
            <div class="modal-body">
              <form id="modalForm">
                <input id="id" name="id" type="hidden" value="<%-product.id%>">
                <div class="form-group">
                  <label for="name" class="d-block">Name:</label>
                  <input class="form-control w-50 d-inline" placeholder="Name" id="name" name="name" maxlength="20" type="text" value="<%-product.name%>">
                  <div class="hiding d-inline">• Required field</div>
                  <div class="error error-name"></div>
                </div>
                <div class="form-group"><label for="name" class="d-block">Supplier Email:</label>
                  <input class="form-control w-50 d-inline" placeholder="abc@mail.ru" id="email" name="email" maxlength="20" type="text" value="<%-product.email%>">
                  <div class="hiding d-inline">• Incorrect email</div>
                  <div class="error error-email"></div>
                </div>
                <div class="form-group"><label for="count">Count:</label>
                  <input class="form-control w-25" placeholder="1" id="count" name="count" maxlength="3" type="text" value="<%-product.count%>">
                  <div class="error error-count"></div>
                </div>
                <div class="form-group"><label for="price" class="d-block">Price:</label>
                  <input class="form-control w-50" placeholder="1000" id="price" name="price" maxlength="13" type="text" value="<%-product.price%>">
                  <div class="error error-price"></div>
                </div>
                <div class="form-group">
                  <label class="d-block" for="delivery">Delivery</label>
                  <div class="row">
                    <div class="col">
                      <select class="form-control" id="delivery">
                        <option></option>
                        <option>Country</option>
                        <option>City</option>
                      </select>
                    </div>
                    <div class="card col mr-4" id="countries">
                          <div class="form-check">
                            <input class="form-check-input" id="russia" type="radio" name="country" value="russia" checked>
                            <label class="form-check-label" for="russia">
                              Russia
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" id="usa" type="radio" name="country" value="USA">
                            <label class="form-check-label" for="usa">
                              USA
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" id="japan" type="radio" name="country" value="japan">
                            <label class="form-check-label" for="japan">
                              Japan
                            </label>
                      </div>
                    </div>
                    <div class="card col mr-4" id="cities">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" name="select-all" value="" id="select-all">
                          <label class="form-check-label" for="select-all">
                            Select All
                          </label>
                        </div>
                        <hr>
                        <div class="form-check">
                          <input class="form-check-input" id="saratov" type="checkbox" name="city" value="saratov" id="saratov">
                          <label class="form-check-label" for="saratov">
                            Saratov
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" id="moscow" type="checkbox" name="city" value="moscow">
                          <label class="form-check-label" for="moscow">
                            Moscow
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" id="piter" type="checkbox" name="city" value="piter">
                          <label class="form-check-label" for="piter">
                            Piter
                          </label>
                        </div>
                    </div>
                  </div>
                </div><button class="btn btn-default" id="superBtn" disabled="">Add/Update</button>
              </form>
            </div>
          </div>
      </div>
    </div>
  </script>
  <script id="searchTemplate" type="text/html">
    <div class="formline">
      <button class="btn btn-light float-right" id="searchBtn">Search</button>
      <div class="pr-2">
        <input class="form-control" type="text" placeholder="Type here for search" id="search-field">
      </div>
    </div>
  </script>
  <script id="taskTemplate" type="text/html">
    <div id="<%-id%>">
      <section class="row action-block">
        <div class="col-8" id="searchBlock"></div>
        <div class="col-4" id="addBlock"></div>
      </section>
      <section class="row content">
        <div id="container" class="col-12">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th class="text-center">
                    Name
                    <i class="sort triangle-top" data-action="sortByName"></i>
                  </th>
                  <th class="text-center">
                    Price
                    <i class="sort triangle-top" data-action="sortByPrice"></i>
                  </th>
                  <th class="text-center">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody id="tableBody">
                  <% _.each(productList, function(product) { %>
                    <%= productRowTemplateFunc({ product: product }) %>
                  <% }); %>
              </tbody>
            </table>
        </div>
      </section>
      <div id="modal-container"></div>
    </div>
  </script>

  <div class="container" id="container"></div>
</body>

</html>